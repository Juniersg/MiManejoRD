<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Registrar Transacción - Mi Manejo RD</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="d-flex justify-content-center align-items-center vh-100 bg-light">

<div class="card p-4 shadow login-card">
  <h3 class="mb-4 text-center">Nueva Transacción</h3>

  <form method="POST">
    <div class="mb-3">
      <label for="id_cuenta" cl ass="form-label">Cuenta</label>
      <select class="form-select" name="id_cuenta" required>
        <option value="">Selecciona una cuenta</option>
        {% for cuenta in cuentas %}
          <option value="{{ cuenta.id_cuenta }}">{{ cuenta.nombre }} (Saldo: ${{ cuenta.saldo_actual }})</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Tipo</label>
      <select class="form-select" name="tipo" required>
        <option value="ingreso">Ingreso</option>
        <option value="gasto">Gasto</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="id_categoria" class="form-label">Categoría</label>
      <select class="form-select" name="id_categoria">
        <option value="">Selecciona una categoría</option>
        {% for cat in categorias %}
          <option value="{{ cat.id_categoria }}">{{ cat.nombre }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Descripción</label>
      <input type="text" class="form-control" name="categoria" placeholder="Ej. Supermercado">
    </div>

    <div class="mb-3">
      <label class="form-label">Monto</label>
      <input type="number" class="form-control" name="monto" step="0.01" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Fecha</label>
      <input type="date" class="form-control" name="fecha" value="{{ datetime.utcnow().strftime('%Y-%m-%d') }}">
    </div>

    <button type="submit" class="btn btn-primary w-100">Registrar</button>
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
